ft_restart_cycle() function, have a look

ft_input_cycle() function, (Ctrl+c/d return etc)

ft_init_term()

